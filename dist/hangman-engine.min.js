/**
 * hangman-engine v0.1.0 (https://github.com/tameraydin/hangman-engine)
 * Copyright 2015 Tamer Aydin (http://tamerayd.in)
 * Licensed under MIT
 */
(function(){"use strict";function s(s){return JSON.parse(JSON.stringify(s))}var t=["PENDING","STARTED","QUIT","WON","LOST"],i={maxAttempt:10},n=function(s,i){var n=[];s&&"string"==typeof s&&s.trim().split("").forEach(function(s){s&&" "!==s&&-1===n.indexOf(s)&&n.push(s)}),this.status=t[0],this.characters=n,this.guesses=[],this.hits=[],this.misses=[],this.config=i,this.listeners={start:null,guess:null,hit:null,miss:null,end:null}};n.prototype={on:function(s,t){return this.listeners.hasOwnProperty(s)&&"function"==typeof t&&(this.listeners[s]=t),this},start:function(s){return(s||this.status===t[0])&&(this.status=t[1],s&&(this.guesses=[],this.hits=[],this.misses=[]),this.listeners.start&&this.listeners.start.call(this)),this},guess:function(s){return this.status===t[1]&&"string"==typeof s&&(s=s[0].trim(),s&&(this.characters.indexOf(s)>-1?(this.hits.push(s),this.listeners.hit&&this.listeners.hit.call(this,s)):(this.misses.push(s),this.listeners.miss&&this.listeners.miss.call(this,s)),this.guesses.push(s),this.listeners.guess&&this.listeners.guess.call(this,s),this.guesses.length===this.config.maxAttempt&&this.end(t[this.hits.length===this.characters.length?3:4]))),this},end:function(s){return t.indexOf(this.status)<2&&(this.status=s||t[2],this.listeners.end&&this.listeners.end.call(this)),this},hint:function(){}};var e=function(){this.config=s(i)};e.prototype={configure:function(s){if(s){var t;for(t in s)this.config[t]&&(this.config[t]=s[t])}},reset:function(){this.config=s(i)},newGame:function(t){return new n(t,s(this.config))}};var h=new e,r=this;"undefined"!=typeof exports&&"undefined"!=typeof module&&module.exports?module.exports=h:"function"==typeof define&&define.amd?define("hangmanEngine",[],function(){return h}):r.hangmanEngine=h}).call(this);